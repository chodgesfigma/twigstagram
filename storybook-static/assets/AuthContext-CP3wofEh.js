import{j as h}from"./jsx-runtime-CGpYA4L6.js";import{r as t}from"./index-CleY8y_P.js";import{g as p}from"./queriesAndMutations-C1C6liHq.js";import{u as A}from"./index-Df8taAry.js";const c={id:"",name:"",username:"",email:"",imageUrl:"",bio:""},I={user:c,isLoading:!1,isAuthenticated:!1,setUser:()=>{},setIsAuthenticated:()=>{},checkAuthUser:async()=>!1},u=t.createContext(I);function i({children:s}){const l=A(),[m,r]=t.useState(c),[d,a]=t.useState(!1),[f,o]=t.useState(!1),n=async()=>{o(!0);try{const e=await p();return e?(r({id:e.$id,name:e.name,username:e.username,email:e.email,imageUrl:e.imageUrl,bio:e.bio}),a(!0),!0):!1}catch(e){return console.error(e),!1}finally{o(!1)}};t.useEffect(()=>{const e=localStorage.getItem("cookieFallback");(e==="[]"||e===null||e===void 0)&&l("/sign-in"),n()},[]);const g={user:m,setUser:r,isLoading:f,isAuthenticated:d,setIsAuthenticated:a,checkAuthUser:n};return h.jsx(u.Provider,{value:g,children:s})}const y=()=>t.useContext(u);try{i.displayName="AuthProvider",i.__docgenInfo={description:"",displayName:"AuthProvider",props:{}}}catch{}export{c as I,y as u};
