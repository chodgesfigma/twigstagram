var Ce=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)};var u=(e,t,i)=>(Ce(e,t,"read from private field"),i?i.call(e):t.get(e)),g=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},v=(e,t,i,n)=>(Ce(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i);var E=(e,t,i)=>(Ce(e,t,"access private method"),i);import{S as ut,j as Ie,c as vt,k as We,l as $e,t as St,f as Rt,q as Mt,r as Je,n as ke,i as Xe,u as Et,v as Y}from"./QueryClientProvider-CirB6fzW.js";import{r as A}from"./index-CleY8y_P.js";import"./jsx-runtime-CGpYA4L6.js";import{c as Tt}from"./_commonjsHelpers-Cpj98o6Y.js";var _,M,he,C,W,F,N,ye,ee,te,$,J,z,ie,X,le,me,_e,we,Oe,be,Ae,ge,De,ve,xe,Se,Be,Re,Ne,Ue,ft,ct,Pt=(ct=class extends ut{constructor(t,i){super();g(this,X);g(this,me);g(this,we);g(this,be);g(this,ge);g(this,ve);g(this,Se);g(this,Re);g(this,Ue);g(this,_,void 0);g(this,M,void 0);g(this,he,void 0);g(this,C,void 0);g(this,W,void 0);g(this,F,void 0);g(this,N,void 0);g(this,ye,void 0);g(this,ee,void 0);g(this,te,void 0);g(this,$,void 0);g(this,J,void 0);g(this,z,void 0);g(this,ie,new Set);this.options=i,v(this,_,t),v(this,N,null),this.bindMethods(),this.setOptions(i)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,M).addObserver(this),Ze(u(this,M),this.options)?E(this,X,le).call(this):this.updateResult(),E(this,ge,De).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ge(u(this,M),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ge(u(this,M),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,E(this,ve,xe).call(this),E(this,Se,Be).call(this),u(this,M).removeObserver(this)}setOptions(t,i){const n=this.options,o=u(this,M);if(this.options=u(this,_).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");E(this,Re,Ne).call(this),u(this,M).setOptions(this.options),n._defaulted&&!Ie(this.options,n)&&u(this,_).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,M),observer:this});const r=this.hasListeners();r&&Ye(u(this,M),o,this.options,n)&&E(this,X,le).call(this),this.updateResult(i),r&&(u(this,M)!==o||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&E(this,me,_e).call(this);const s=E(this,we,Oe).call(this);r&&(u(this,M)!==o||this.options.enabled!==n.enabled||s!==u(this,z))&&E(this,be,Ae).call(this,s)}getOptimisticResult(t){const i=u(this,_).getQueryCache().build(u(this,_),t),n=this.createResult(i,t);return Ut(this,n)&&(v(this,C,n),v(this,F,this.options),v(this,W,u(this,M).state)),n}getCurrentResult(){return u(this,C)}trackResult(t,i){const n={};return Object.keys(t).forEach(o=>{Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),i==null||i(o),t[o])})}),n}trackProp(t){u(this,ie).add(t)}getCurrentQuery(){return u(this,M)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const i=u(this,_).defaultQueryOptions(t),n=u(this,_).getQueryCache().build(u(this,_),i);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,i))}fetch(t){return E(this,X,le).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,C)))}createResult(t,i){var Ee;const n=u(this,M),o=this.options,r=u(this,C),s=u(this,W),c=u(this,F),p=t!==n?t.state:u(this,he),{state:m}=t;let y={...m},k=!1,P;if(i._optimisticResults){const U=this.hasListeners(),ue=!U&&Ze(t,i),je=U&&Ye(t,n,i,o);(ue||je)&&(y={...y,...Mt(m.data,t.options)}),i._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:R,errorUpdatedAt:I,status:x}=y;if(i.select&&y.data!==void 0)if(r&&y.data===(s==null?void 0:s.data)&&i.select===u(this,ye))P=u(this,ee);else try{v(this,ye,i.select),P=i.select(y.data),P=Je(r==null?void 0:r.data,P,i),v(this,ee,P),v(this,N,null)}catch(U){v(this,N,U)}else P=y.data;if(i.placeholderData!==void 0&&P===void 0&&x==="pending"){let U;if(r!=null&&r.isPlaceholderData&&i.placeholderData===(c==null?void 0:c.placeholderData))U=r.data;else if(U=typeof i.placeholderData=="function"?i.placeholderData((Ee=u(this,te))==null?void 0:Ee.state.data,u(this,te)):i.placeholderData,i.select&&U!==void 0)try{U=i.select(U),v(this,N,null)}catch(ue){v(this,N,ue)}U!==void 0&&(x="success",P=Je(r==null?void 0:r.data,U,i),k=!0)}u(this,N)&&(R=u(this,N),P=u(this,ee),I=Date.now(),x="error");const K=y.fetchStatus==="fetching",V=x==="pending",ae=x==="error",ce=V&&K,de=P!==void 0;return{status:x,fetchStatus:y.fetchStatus,isPending:V,isSuccess:x==="success",isError:ae,isInitialLoading:ce,isLoading:ce,data:P,dataUpdatedAt:y.dataUpdatedAt,error:R,errorUpdatedAt:I,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:K,isRefetching:K&&!V,isLoadingError:ae&&!de,isPaused:y.fetchStatus==="paused",isPlaceholderData:k,isRefetchError:ae&&de,isStale:Qe(t,i),refetch:this.refetch}}updateResult(t){const i=u(this,C),n=this.createResult(u(this,M),this.options);if(v(this,W,u(this,M).state),v(this,F,this.options),u(this,W).data!==void 0&&v(this,te,u(this,M)),Ie(n,i))return;v(this,C,n);const o={},r=()=>{if(!i)return!0;const{notifyOnChangeProps:s}=this.options,c=typeof s=="function"?s():s;if(c==="all"||!c&&!u(this,ie).size)return!0;const l=new Set(c??u(this,ie));return this.options.throwOnError&&l.add("error"),Object.keys(u(this,C)).some(p=>{const m=p;return u(this,C)[m]!==i[m]&&l.has(m)})};(t==null?void 0:t.listeners)!==!1&&r()&&(o.listeners=!0),E(this,Ue,ft).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&E(this,ge,De).call(this)}},_=new WeakMap,M=new WeakMap,he=new WeakMap,C=new WeakMap,W=new WeakMap,F=new WeakMap,N=new WeakMap,ye=new WeakMap,ee=new WeakMap,te=new WeakMap,$=new WeakMap,J=new WeakMap,z=new WeakMap,ie=new WeakMap,X=new WeakSet,le=function(t){E(this,Re,Ne).call(this);let i=u(this,M).fetch(this.options,t);return t!=null&&t.throwOnError||(i=i.catch(vt)),i},me=new WeakSet,_e=function(){if(E(this,ve,xe).call(this),We||u(this,C).isStale||!$e(this.options.staleTime))return;const i=St(u(this,C).dataUpdatedAt,this.options.staleTime)+1;v(this,$,setTimeout(()=>{u(this,C).isStale||this.updateResult()},i))},we=new WeakSet,Oe=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,M)):this.options.refetchInterval)??!1},be=new WeakSet,Ae=function(t){E(this,Se,Be).call(this),v(this,z,t),!(We||this.options.enabled===!1||!$e(u(this,z))||u(this,z)===0)&&v(this,J,setInterval(()=>{(this.options.refetchIntervalInBackground||Rt.isFocused())&&E(this,X,le).call(this)},u(this,z)))},ge=new WeakSet,De=function(){E(this,me,_e).call(this),E(this,be,Ae).call(this,E(this,we,Oe).call(this))},ve=new WeakSet,xe=function(){u(this,$)&&(clearTimeout(u(this,$)),v(this,$,void 0))},Se=new WeakSet,Be=function(){u(this,J)&&(clearInterval(u(this,J)),v(this,J,void 0))},Re=new WeakSet,Ne=function(){const t=u(this,_).getQueryCache().build(u(this,_),this.options);if(t===u(this,M))return;const i=u(this,M);v(this,M,t),v(this,he,t.state),this.hasListeners()&&(i==null||i.removeObserver(this),t.addObserver(this))},Ue=new WeakSet,ft=function(t){ke.batch(()=>{t.listeners&&this.listeners.forEach(i=>{i(u(this,C))}),u(this,_).getQueryCache().notify({query:u(this,M),type:"observerResultsUpdated"})})},ct);function It(e,t){return t.enabled!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ze(e,t){return It(e,t)||e.state.data!==void 0&&Ge(e,t,t.refetchOnMount)}function Ge(e,t,i){if(t.enabled!==!1){const n=typeof i=="function"?i(e):i;return n==="always"||n!==!1&&Qe(e,t)}return!1}function Ye(e,t,i,n){return(e!==t||n.enabled===!1)&&(!i.suspense||e.state.status!=="error")&&Qe(e,i)}function Qe(e,t){return t.enabled!==!1&&e.isStaleByTime(t.staleTime)}function Ut(e,t){return!Ie(e.getCurrentResult(),t)}var H,Q,O,G,ne,Pe,Me,ze,dt,kt=(dt=class extends ut{constructor(t,i){super();g(this,ne);g(this,Me);g(this,H,void 0);g(this,Q,void 0);g(this,O,void 0);g(this,G,void 0);v(this,H,t),this.setOptions(i),this.bindMethods(),E(this,ne,Pe).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const i=this.options;this.options=u(this,H).defaultMutationOptions(t),Ie(this.options,i)||u(this,H).getMutationCache().notify({type:"observerOptionsUpdated",mutation:u(this,O),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Xe(i.mutationKey)!==Xe(this.options.mutationKey)?this.reset():((n=u(this,O))==null?void 0:n.state.status)==="pending"&&u(this,O).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=u(this,O))==null||t.removeObserver(this)}onMutationUpdate(t){E(this,ne,Pe).call(this),E(this,Me,ze).call(this,t)}getCurrentResult(){return u(this,Q)}reset(){var t;(t=u(this,O))==null||t.removeObserver(this),v(this,O,void 0),E(this,ne,Pe).call(this),E(this,Me,ze).call(this)}mutate(t,i){var n;return v(this,G,i),(n=u(this,O))==null||n.removeObserver(this),v(this,O,u(this,H).getMutationCache().build(u(this,H),this.options)),u(this,O).addObserver(this),u(this,O).execute(t)}},H=new WeakMap,Q=new WeakMap,O=new WeakMap,G=new WeakMap,ne=new WeakSet,Pe=function(){var i;const t=((i=u(this,O))==null?void 0:i.state)??Et();v(this,Q,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Me=new WeakSet,ze=function(t){ke.batch(()=>{var i,n,o,r,s,c,l,p;if(u(this,G)&&this.hasListeners()){const m=u(this,Q).variables,y=u(this,Q).context;(t==null?void 0:t.type)==="success"?((n=(i=u(this,G)).onSuccess)==null||n.call(i,t.data,m,y),(r=(o=u(this,G)).onSettled)==null||r.call(o,t.data,null,m,y)):(t==null?void 0:t.type)==="error"&&((c=(s=u(this,G)).onError)==null||c.call(s,t.error,m,y),(p=(l=u(this,G)).onSettled)==null||p.call(l,void 0,t.error,m,y))}this.listeners.forEach(m=>{m(u(this,Q))})})},dt),lt=A.createContext(!1),jt=()=>A.useContext(lt);lt.Provider;function qt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Lt=A.createContext(qt()),Ct=()=>A.useContext(Lt);function pt(e,t){return typeof e=="function"?e(...t):!!e}function _t(){}var Ot=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},At=e=>{A.useEffect(()=>{e.clearReset()},[e])},Dt=({result:e,errorResetBoundary:t,throwOnError:i,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&pt(i,[e.error,n]),xt=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Bt=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Nt=(e,t,i)=>t.fetchOptimistic(e).catch(()=>{i.clearReset()});function Gt(e,t,i){const n=Y(),o=jt(),r=Ct(),s=n.defaultQueryOptions(e);s._optimisticResults=o?"isRestoring":"optimistic",xt(s),Ot(s,r),At(r);const[c]=A.useState(()=>new t(n,s)),l=c.getOptimisticResult(s);if(A.useSyncExternalStore(A.useCallback(p=>{const m=o?()=>{}:c.subscribe(ke.batchCalls(p));return c.updateResult(),m},[c,o]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),A.useEffect(()=>{c.setOptions(s,{listeners:!1})},[s,c]),Bt(s,l))throw Nt(s,c,r);if(Dt({result:l,errorResetBoundary:r,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw l.error;return s.notifyOnChangeProps?l:c.trackResult(l)}function zt(e,t){return Gt(e,Pt)}function oe(e,t){const i=Y(),[n]=A.useState(()=>new kt(i,e));A.useEffect(()=>{n.setOptions(e)},[n,e]);const o=A.useSyncExternalStore(A.useCallback(s=>n.subscribe(ke.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),r=A.useCallback((s,c)=>{n.mutate(s,c).catch(_t)},[n]);if(o.error&&pt(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:r,mutateAsync:o.mutate}}var He={exports:{}};(function(e,t){var i=typeof self<"u"?self:Tt,n=function(){function r(){this.fetch=!1,this.DOMException=i.DOMException}return r.prototype=i,new r}();(function(r){(function(s){var c={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function l(a){return a&&DataView.prototype.isPrototypeOf(a)}if(c.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(a){return a&&p.indexOf(Object.prototype.toString.call(a))>-1};function y(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function k(a){return typeof a!="string"&&(a=String(a)),a}function P(a){var f={next:function(){var b=a.shift();return{done:b===void 0,value:b}}};return c.iterable&&(f[Symbol.iterator]=function(){return f}),f}function R(a){this.map={},a instanceof R?a.forEach(function(f,b){this.append(b,f)},this):Array.isArray(a)?a.forEach(function(f){this.append(f[0],f[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(f){this.append(f,a[f])},this)}R.prototype.append=function(a,f){a=y(a),f=k(f);var b=this.map[a];this.map[a]=b?b+", "+f:f},R.prototype.delete=function(a){delete this.map[y(a)]},R.prototype.get=function(a){return a=y(a),this.has(a)?this.map[a]:null},R.prototype.has=function(a){return this.map.hasOwnProperty(y(a))},R.prototype.set=function(a,f){this.map[y(a)]=k(f)},R.prototype.forEach=function(a,f){for(var b in this.map)this.map.hasOwnProperty(b)&&a.call(f,this.map[b],b,this)},R.prototype.keys=function(){var a=[];return this.forEach(function(f,b){a.push(b)}),P(a)},R.prototype.values=function(){var a=[];return this.forEach(function(f){a.push(f)}),P(a)},R.prototype.entries=function(){var a=[];return this.forEach(function(f,b){a.push([b,f])}),P(a)},c.iterable&&(R.prototype[Symbol.iterator]=R.prototype.entries);function I(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function x(a){return new Promise(function(f,b){a.onload=function(){f(a.result)},a.onerror=function(){b(a.error)}})}function K(a){var f=new FileReader,b=x(f);return f.readAsArrayBuffer(a),b}function V(a){var f=new FileReader,b=x(f);return f.readAsText(a),b}function ae(a){for(var f=new Uint8Array(a),b=new Array(f.length),L=0;L<f.length;L++)b[L]=String.fromCharCode(f[L]);return b.join("")}function ce(a){if(a.slice)return a.slice(0);var f=new Uint8Array(a.byteLength);return f.set(new Uint8Array(a)),f.buffer}function de(){return this.bodyUsed=!1,this._initBody=function(a){this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:c.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:c.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():c.arrayBuffer&&c.blob&&l(a)?(this._bodyArrayBuffer=ce(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||m(a))?this._bodyArrayBuffer=ce(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="",this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var a=I(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?I(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(K)}),this.text=function(){var a=I(this);if(a)return a;if(this._bodyBlob)return V(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ae(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(ue)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ve=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ee(a){var f=a.toUpperCase();return Ve.indexOf(f)>-1?f:a}function U(a,f){f=f||{};var b=f.body;if(a instanceof U){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,f.headers||(this.headers=new R(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!b&&a._bodyInit!=null&&(b=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=f.credentials||this.credentials||"same-origin",(f.headers||!this.headers)&&(this.headers=new R(f.headers)),this.method=Ee(f.method||this.method||"GET"),this.mode=f.mode||this.mode||null,this.signal=f.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&b)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(b)}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function ue(a){var f=new FormData;return a.trim().split("&").forEach(function(b){if(b){var L=b.split("="),j=L.shift().replace(/\+/g," "),S=L.join("=").replace(/\+/g," ");f.append(decodeURIComponent(j),decodeURIComponent(S))}}),f}function je(a){var f=new R,b=a.replace(/\r?\n[\t ]+/g," ");return b.split(/\r?\n/).forEach(function(L){var j=L.split(":"),S=j.shift().trim();if(S){var Te=j.join(":").trim();f.append(S,Te)}}),f}de.call(U.prototype);function B(a,f){f||(f={}),this.type="default",this.status=f.status===void 0?200:f.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in f?f.statusText:"OK",this.headers=new R(f.headers),this.url=f.url||"",this._initBody(a)}de.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new R(this.headers),url:this.url})},B.error=function(){var a=new B(null,{status:0,statusText:""});return a.type="error",a};var gt=[301,302,303,307,308];B.redirect=function(a,f){if(gt.indexOf(f)===-1)throw new RangeError("Invalid status code");return new B(null,{status:f,headers:{location:a}})},s.DOMException=r.DOMException;try{new s.DOMException}catch{s.DOMException=function(f,b){this.message=f,this.name=b;var L=Error(f);this.stack=L.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function qe(a,f){return new Promise(function(b,L){var j=new U(a,f);if(j.signal&&j.signal.aborted)return L(new s.DOMException("Aborted","AbortError"));var S=new XMLHttpRequest;function Te(){S.abort()}S.onload=function(){var fe={status:S.status,statusText:S.statusText,headers:je(S.getAllResponseHeaders()||"")};fe.url="responseURL"in S?S.responseURL:fe.headers.get("X-Request-URL");var Le="response"in S?S.response:S.responseText;b(new B(Le,fe))},S.onerror=function(){L(new TypeError("Network request failed"))},S.ontimeout=function(){L(new TypeError("Network request failed"))},S.onabort=function(){L(new s.DOMException("Aborted","AbortError"))},S.open(j.method,j.url,!0),j.credentials==="include"?S.withCredentials=!0:j.credentials==="omit"&&(S.withCredentials=!1),"responseType"in S&&c.blob&&(S.responseType="blob"),j.headers.forEach(function(fe,Le){S.setRequestHeader(Le,fe)}),j.signal&&(j.signal.addEventListener("abort",Te),S.onreadystatechange=function(){S.readyState===4&&j.signal.removeEventListener("abort",Te)}),S.send(typeof j._bodyInit>"u"?null:j._bodyInit)})}return qe.polyfill=!0,r.fetch||(r.fetch=qe,r.Headers=R,r.Request=U,r.Response=B),s.Headers=R,s.Request=U,s.Response=B,s.fetch=qe,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;t=o.fetch,t.default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t})(He,He.exports);var Ht=He.exports;function h(e,t,i,n){function o(r){return r instanceof i?r:new i(function(s){s(r)})}return new(i||(i=Promise))(function(r,s){function c(m){try{p(n.next(m))}catch(y){s(y)}}function l(m){try{p(n.throw(m))}catch(y){s(y)}}function p(m){m.done?r(m.value):o(m.value).then(c,l)}p((n=n.apply(e,[])).next())})}function Qt(e,t,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(e):n?n.value:t.get(e)}class T{constructor(t){this.client=t}static flatten(t,i=""){let n={};for(const[o,r]of Object.entries(t)){let s=i?i+"["+o+"]":o;Array.isArray(r)?n=Object.assign(Object.assign({},n),T.flatten(r,s)):n[s]=r}return n}}T.CHUNK_SIZE=5*1024*1024;class w{constructor(t,i,n){this.method=t,this.attribute=i,n!==void 0&&(Array.isArray(n)?this.values=n:this.values=[n])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}w.equal=(e,t)=>new w("equal",e,t).toString();w.notEqual=(e,t)=>new w("notEqual",e,t).toString();w.lessThan=(e,t)=>new w("lessThan",e,t).toString();w.lessThanEqual=(e,t)=>new w("lessThanEqual",e,t).toString();w.greaterThan=(e,t)=>new w("greaterThan",e,t).toString();w.greaterThanEqual=(e,t)=>new w("greaterThanEqual",e,t).toString();w.isNull=e=>new w("isNull",e).toString();w.isNotNull=e=>new w("isNotNull",e).toString();w.between=(e,t,i)=>new w("between",e,[t,i]).toString();w.startsWith=(e,t)=>new w("startsWith",e,t).toString();w.endsWith=(e,t)=>new w("endsWith",e,t).toString();w.select=e=>new w("select",void 0,e).toString();w.search=(e,t)=>new w("search",e,t).toString();w.orderDesc=e=>new w("orderDesc",e).toString();w.orderAsc=e=>new w("orderAsc",e).toString();w.cursorAfter=e=>new w("cursorAfter",void 0,e).toString();w.cursorBefore=e=>new w("cursorBefore",void 0,e).toString();w.limit=e=>new w("limit",void 0,e).toString();w.offset=e=>new w("offset",void 0,e).toString();w.contains=(e,t)=>new w("contains",e,t).toString();w.or=e=>new w("or",void 0,e.map(t=>JSON.parse(t))).toString();w.and=e=>new w("and",void 0,e.map(t=>JSON.parse(t))).toString();class d extends Error{constructor(t,i=0,n="",o=""){super(t),this.name="AppwriteException",this.message=t,this.code=i,this.type=n,this.response=o}}class Kt{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"14.0.1","X-Appwrite-Response-Format":"1.5.0"},this.realtime={socket:void 0,timeout:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createSocket:()=>{var t,i,n;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(t=this.realtime.socket)===null||t===void 0||t.close();return}const o=new URLSearchParams;o.set("project",this.config.project),this.realtime.channels.forEach(s=>{o.append("channels[]",s)});const r=this.config.endpointRealtime+"/realtime?"+o.toString();(r!==this.realtime.url||!this.realtime.socket||((i=this.realtime.socket)===null||i===void 0?void 0:i.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=r,this.realtime.socket=new WebSocket(r),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",s=>{this.realtime.reconnectAttempts=0}),this.realtime.socket.addEventListener("close",s=>{var c,l,p;if(!this.realtime.reconnect||((l=(c=this.realtime)===null||c===void 0?void 0:c.lastMessage)===null||l===void 0?void 0:l.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const m=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${m/1e3} seconds.`,s.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},m)}))},onMessage:t=>{var i,n;try{const o=JSON.parse(t.data);switch(this.realtime.lastMessage=o,o.type){case"connected":const r=JSON.parse((i=window.localStorage.getItem("cookieFallback"))!==null&&i!==void 0?i:"{}"),s=r==null?void 0:r[`a_session_${this.config.project}`],c=o.data;s&&!c.user&&((n=this.realtime.socket)===null||n===void 0||n.send(JSON.stringify({type:"authentication",data:{session:s}})));break;case"event":let l=o.data;if(l!=null&&l.channels){if(!l.channels.some(m=>this.realtime.channels.has(m)))return;this.realtime.subscriptions.forEach(m=>{l.channels.some(y=>m.channels.includes(y))&&setTimeout(()=>m.callback(l))})}break;case"error":throw o.data;default:break}}catch(o){console.error(o)}},cleanUp:t=>{this.realtime.channels.forEach(i=>{t.includes(i)&&(Array.from(this.realtime.subscriptions).some(([o,r])=>r.channels.includes(i))||this.realtime.channels.delete(i))})}}}setEndpoint(t){return this.config.endpoint=t,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(t){return this.config.endpointRealtime=t,this}setProject(t){return this.headers["X-Appwrite-Project"]=t,this.config.project=t,this}setJWT(t){return this.headers["X-Appwrite-JWT"]=t,this.config.jwt=t,this}setLocale(t){return this.headers["X-Appwrite-Locale"]=t,this.config.locale=t,this}setSession(t){return this.headers["X-Appwrite-Session"]=t,this.config.session=t,this}subscribe(t,i){let n=typeof t=="string"?[t]:t;n.forEach(r=>this.realtime.channels.add(r));const o=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(o,{channels:n,callback:i}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(o),this.realtime.cleanUp(n),this.realtime.connect()}}call(t,i,n={},o={}){var r,s;return h(this,void 0,void 0,function*(){t=t.toUpperCase(),n=Object.assign({},this.headers,n);let c={method:t,headers:n,credentials:"include"};if(typeof window<"u"&&window.localStorage&&(n["X-Fallback-Cookies"]=(r=window.localStorage.getItem("cookieFallback"))!==null&&r!==void 0?r:""),t==="GET")for(const[l,p]of Object.entries(T.flatten(o)))i.searchParams.append(l,p);else switch(n["content-type"]){case"application/json":c.body=JSON.stringify(o);break;case"multipart/form-data":let l=new FormData;for(const p in o)Array.isArray(o[p])?o[p].forEach(m=>{l.append(p+"[]",m)}):l.append(p,o[p]);c.body=l,delete n["content-type"];break}try{let l=null;const p=yield Ht.fetch(i.toString(),c);if(!((s=p.headers.get("content-type"))===null||s===void 0)&&s.includes("application/json")?l=yield p.json():l={message:yield p.text()},400<=p.status)throw new d(l==null?void 0:l.message,p.status,l==null?void 0:l.type,l);const m=p.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&m&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",m)),l}catch(l){throw l instanceof d?l:new d(l.message)}})}}class Vt extends T{constructor(t){super(t)}get(){return h(this,void 0,void 0,function*(){const t="/account",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("get",n,{"content-type":"application/json"},i)})}create(t,i,n,o){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "userId"');if(typeof i>"u")throw new d('Missing required parameter: "email"');if(typeof n>"u")throw new d('Missing required parameter: "password"');const r="/account",s={};typeof t<"u"&&(s.userId=t),typeof i<"u"&&(s.email=i),typeof n<"u"&&(s.password=n),typeof o<"u"&&(s.name=o);const c=new URL(this.client.config.endpoint+r);return yield this.client.call("post",c,{"content-type":"application/json"},s)})}updateEmail(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "email"');if(typeof i>"u")throw new d('Missing required parameter: "password"');const n="/account/email",o={};typeof t<"u"&&(o.email=t),typeof i<"u"&&(o.password=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("patch",r,{"content-type":"application/json"},o)})}listIdentities(t){return h(this,void 0,void 0,function*(){const i="/account/identities",n={};typeof t<"u"&&(n.queries=t);const o=new URL(this.client.config.endpoint+i);return yield this.client.call("get",o,{"content-type":"application/json"},n)})}deleteIdentity(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "identityId"');const i="/account/identities/{identityId}".replace("{identityId}",t),n={},o=new URL(this.client.config.endpoint+i);return yield this.client.call("delete",o,{"content-type":"application/json"},n)})}createJWT(){return h(this,void 0,void 0,function*(){const t="/account/jwt",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("post",n,{"content-type":"application/json"},i)})}listLogs(t){return h(this,void 0,void 0,function*(){const i="/account/logs",n={};typeof t<"u"&&(n.queries=t);const o=new URL(this.client.config.endpoint+i);return yield this.client.call("get",o,{"content-type":"application/json"},n)})}updateMFA(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "mfa"');const i="/account/mfa",n={};typeof t<"u"&&(n.mfa=t);const o=new URL(this.client.config.endpoint+i);return yield this.client.call("patch",o,{"content-type":"application/json"},n)})}createMfaAuthenticator(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "type"');const i="/account/mfa/authenticators/{type}".replace("{type}",t),n={},o=new URL(this.client.config.endpoint+i);return yield this.client.call("post",o,{"content-type":"application/json"},n)})}updateMfaAuthenticator(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "type"');if(typeof i>"u")throw new d('Missing required parameter: "otp"');const n="/account/mfa/authenticators/{type}".replace("{type}",t),o={};typeof i<"u"&&(o.otp=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("put",r,{"content-type":"application/json"},o)})}deleteMfaAuthenticator(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "type"');if(typeof i>"u")throw new d('Missing required parameter: "otp"');const n="/account/mfa/authenticators/{type}".replace("{type}",t),o={};typeof i<"u"&&(o.otp=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("delete",r,{"content-type":"application/json"},o)})}createMfaChallenge(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "factor"');const i="/account/mfa/challenge",n={};typeof t<"u"&&(n.factor=t);const o=new URL(this.client.config.endpoint+i);return yield this.client.call("post",o,{"content-type":"application/json"},n)})}updateMfaChallenge(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "challengeId"');if(typeof i>"u")throw new d('Missing required parameter: "otp"');const n="/account/mfa/challenge",o={};typeof t<"u"&&(o.challengeId=t),typeof i<"u"&&(o.otp=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("put",r,{"content-type":"application/json"},o)})}listMfaFactors(){return h(this,void 0,void 0,function*(){const t="/account/mfa/factors",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("get",n,{"content-type":"application/json"},i)})}getMfaRecoveryCodes(){return h(this,void 0,void 0,function*(){const t="/account/mfa/recovery-codes",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("get",n,{"content-type":"application/json"},i)})}createMfaRecoveryCodes(){return h(this,void 0,void 0,function*(){const t="/account/mfa/recovery-codes",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("post",n,{"content-type":"application/json"},i)})}updateMfaRecoveryCodes(){return h(this,void 0,void 0,function*(){const t="/account/mfa/recovery-codes",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",n,{"content-type":"application/json"},i)})}updateName(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "name"');const i="/account/name",n={};typeof t<"u"&&(n.name=t);const o=new URL(this.client.config.endpoint+i);return yield this.client.call("patch",o,{"content-type":"application/json"},n)})}updatePassword(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "password"');const n="/account/password",o={};typeof t<"u"&&(o.password=t),typeof i<"u"&&(o.oldPassword=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("patch",r,{"content-type":"application/json"},o)})}updatePhone(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "phone"');if(typeof i>"u")throw new d('Missing required parameter: "password"');const n="/account/phone",o={};typeof t<"u"&&(o.phone=t),typeof i<"u"&&(o.password=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("patch",r,{"content-type":"application/json"},o)})}getPrefs(){return h(this,void 0,void 0,function*(){const t="/account/prefs",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("get",n,{"content-type":"application/json"},i)})}updatePrefs(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "prefs"');const i="/account/prefs",n={};typeof t<"u"&&(n.prefs=t);const o=new URL(this.client.config.endpoint+i);return yield this.client.call("patch",o,{"content-type":"application/json"},n)})}createRecovery(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "email"');if(typeof i>"u")throw new d('Missing required parameter: "url"');const n="/account/recovery",o={};typeof t<"u"&&(o.email=t),typeof i<"u"&&(o.url=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("post",r,{"content-type":"application/json"},o)})}updateRecovery(t,i,n){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "userId"');if(typeof i>"u")throw new d('Missing required parameter: "secret"');if(typeof n>"u")throw new d('Missing required parameter: "password"');const o="/account/recovery",r={};typeof t<"u"&&(r.userId=t),typeof i<"u"&&(r.secret=i),typeof n<"u"&&(r.password=n);const s=new URL(this.client.config.endpoint+o);return yield this.client.call("put",s,{"content-type":"application/json"},r)})}listSessions(){return h(this,void 0,void 0,function*(){const t="/account/sessions",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("get",n,{"content-type":"application/json"},i)})}deleteSessions(){return h(this,void 0,void 0,function*(){const t="/account/sessions",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("delete",n,{"content-type":"application/json"},i)})}createAnonymousSession(){return h(this,void 0,void 0,function*(){const t="/account/sessions/anonymous",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("post",n,{"content-type":"application/json"},i)})}createEmailPasswordSession(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "email"');if(typeof i>"u")throw new d('Missing required parameter: "password"');const n="/account/sessions/email",o={};typeof t<"u"&&(o.email=t),typeof i<"u"&&(o.password=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("post",r,{"content-type":"application/json"},o)})}updateMagicURLSession(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "userId"');if(typeof i>"u")throw new d('Missing required parameter: "secret"');const n="/account/sessions/magic-url",o={};typeof t<"u"&&(o.userId=t),typeof i<"u"&&(o.secret=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("put",r,{"content-type":"application/json"},o)})}createOAuth2Session(t,i,n,o){if(typeof t>"u")throw new d('Missing required parameter: "provider"');const r="/account/sessions/oauth2/{provider}".replace("{provider}",t),s={};typeof i<"u"&&(s.success=i),typeof n<"u"&&(s.failure=n),typeof o<"u"&&(s.scopes=o);const c=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,p]of Object.entries(T.flatten(s)))c.searchParams.append(l,p);if(typeof window<"u"&&(window!=null&&window.location))window.location.href=c.toString();else return c}updatePhoneSession(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "userId"');if(typeof i>"u")throw new d('Missing required parameter: "secret"');const n="/account/sessions/phone",o={};typeof t<"u"&&(o.userId=t),typeof i<"u"&&(o.secret=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("put",r,{"content-type":"application/json"},o)})}createSession(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "userId"');if(typeof i>"u")throw new d('Missing required parameter: "secret"');const n="/account/sessions/token",o={};typeof t<"u"&&(o.userId=t),typeof i<"u"&&(o.secret=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("post",r,{"content-type":"application/json"},o)})}getSession(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "sessionId"');const i="/account/sessions/{sessionId}".replace("{sessionId}",t),n={},o=new URL(this.client.config.endpoint+i);return yield this.client.call("get",o,{"content-type":"application/json"},n)})}updateSession(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "sessionId"');const i="/account/sessions/{sessionId}".replace("{sessionId}",t),n={},o=new URL(this.client.config.endpoint+i);return yield this.client.call("patch",o,{"content-type":"application/json"},n)})}deleteSession(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "sessionId"');const i="/account/sessions/{sessionId}".replace("{sessionId}",t),n={},o=new URL(this.client.config.endpoint+i);return yield this.client.call("delete",o,{"content-type":"application/json"},n)})}updateStatus(){return h(this,void 0,void 0,function*(){const t="/account/status",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",n,{"content-type":"application/json"},i)})}createPushTarget(t,i,n){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "targetId"');if(typeof i>"u")throw new d('Missing required parameter: "identifier"');const o="/account/targets/push",r={};typeof t<"u"&&(r.targetId=t),typeof i<"u"&&(r.identifier=i),typeof n<"u"&&(r.providerId=n);const s=new URL(this.client.config.endpoint+o);return yield this.client.call("post",s,{"content-type":"application/json"},r)})}updatePushTarget(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "targetId"');if(typeof i>"u")throw new d('Missing required parameter: "identifier"');const n="/account/targets/{targetId}/push".replace("{targetId}",t),o={};typeof i<"u"&&(o.identifier=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("put",r,{"content-type":"application/json"},o)})}deletePushTarget(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "targetId"');const i="/account/targets/{targetId}/push".replace("{targetId}",t),n={},o=new URL(this.client.config.endpoint+i);return yield this.client.call("delete",o,{"content-type":"application/json"},n)})}createEmailToken(t,i,n){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "userId"');if(typeof i>"u")throw new d('Missing required parameter: "email"');const o="/account/tokens/email",r={};typeof t<"u"&&(r.userId=t),typeof i<"u"&&(r.email=i),typeof n<"u"&&(r.phrase=n);const s=new URL(this.client.config.endpoint+o);return yield this.client.call("post",s,{"content-type":"application/json"},r)})}createMagicURLToken(t,i,n,o){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "userId"');if(typeof i>"u")throw new d('Missing required parameter: "email"');const r="/account/tokens/magic-url",s={};typeof t<"u"&&(s.userId=t),typeof i<"u"&&(s.email=i),typeof n<"u"&&(s.url=n),typeof o<"u"&&(s.phrase=o);const c=new URL(this.client.config.endpoint+r);return yield this.client.call("post",c,{"content-type":"application/json"},s)})}createOAuth2Token(t,i,n,o){if(typeof t>"u")throw new d('Missing required parameter: "provider"');const r="/account/tokens/oauth2/{provider}".replace("{provider}",t),s={};typeof i<"u"&&(s.success=i),typeof n<"u"&&(s.failure=n),typeof o<"u"&&(s.scopes=o);const c=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,p]of Object.entries(T.flatten(s)))c.searchParams.append(l,p);if(typeof window<"u"&&(window!=null&&window.location))window.location.href=c.toString();else return c}createPhoneToken(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "userId"');if(typeof i>"u")throw new d('Missing required parameter: "phone"');const n="/account/tokens/phone",o={};typeof t<"u"&&(o.userId=t),typeof i<"u"&&(o.phone=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("post",r,{"content-type":"application/json"},o)})}createVerification(t){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "url"');const i="/account/verification",n={};typeof t<"u"&&(n.url=t);const o=new URL(this.client.config.endpoint+i);return yield this.client.call("post",o,{"content-type":"application/json"},n)})}updateVerification(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "userId"');if(typeof i>"u")throw new d('Missing required parameter: "secret"');const n="/account/verification",o={};typeof t<"u"&&(o.userId=t),typeof i<"u"&&(o.secret=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("put",r,{"content-type":"application/json"},o)})}createPhoneVerification(){return h(this,void 0,void 0,function*(){const t="/account/verification/phone",i={},n=new URL(this.client.config.endpoint+t);return yield this.client.call("post",n,{"content-type":"application/json"},i)})}updatePhoneVerification(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "userId"');if(typeof i>"u")throw new d('Missing required parameter: "secret"');const n="/account/verification/phone",o={};typeof t<"u"&&(o.userId=t),typeof i<"u"&&(o.secret=i);const r=new URL(this.client.config.endpoint+n);return yield this.client.call("put",r,{"content-type":"application/json"},o)})}}class Wt extends T{constructor(t){super(t)}getBrowser(t,i,n,o){if(typeof t>"u")throw new d('Missing required parameter: "code"');const r="/avatars/browsers/{code}".replace("{code}",t),s={};typeof i<"u"&&(s.width=i),typeof n<"u"&&(s.height=n),typeof o<"u"&&(s.quality=o);const c=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,p]of Object.entries(T.flatten(s)))c.searchParams.append(l,p);return c}getCreditCard(t,i,n,o){if(typeof t>"u")throw new d('Missing required parameter: "code"');const r="/avatars/credit-cards/{code}".replace("{code}",t),s={};typeof i<"u"&&(s.width=i),typeof n<"u"&&(s.height=n),typeof o<"u"&&(s.quality=o);const c=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,p]of Object.entries(T.flatten(s)))c.searchParams.append(l,p);return c}getFavicon(t){if(typeof t>"u")throw new d('Missing required parameter: "url"');const i="/avatars/favicon",n={};typeof t<"u"&&(n.url=t);const o=new URL(this.client.config.endpoint+i);n.project=this.client.config.project;for(const[r,s]of Object.entries(T.flatten(n)))o.searchParams.append(r,s);return o}getFlag(t,i,n,o){if(typeof t>"u")throw new d('Missing required parameter: "code"');const r="/avatars/flags/{code}".replace("{code}",t),s={};typeof i<"u"&&(s.width=i),typeof n<"u"&&(s.height=n),typeof o<"u"&&(s.quality=o);const c=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,p]of Object.entries(T.flatten(s)))c.searchParams.append(l,p);return c}getImage(t,i,n){if(typeof t>"u")throw new d('Missing required parameter: "url"');const o="/avatars/image",r={};typeof t<"u"&&(r.url=t),typeof i<"u"&&(r.width=i),typeof n<"u"&&(r.height=n);const s=new URL(this.client.config.endpoint+o);r.project=this.client.config.project;for(const[c,l]of Object.entries(T.flatten(r)))s.searchParams.append(c,l);return s}getInitials(t,i,n,o){const r="/avatars/initials",s={};typeof t<"u"&&(s.name=t),typeof i<"u"&&(s.width=i),typeof n<"u"&&(s.height=n),typeof o<"u"&&(s.background=o);const c=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,p]of Object.entries(T.flatten(s)))c.searchParams.append(l,p);return c}getQR(t,i,n,o){if(typeof t>"u")throw new d('Missing required parameter: "text"');const r="/avatars/qr",s={};typeof t<"u"&&(s.text=t),typeof i<"u"&&(s.size=i),typeof n<"u"&&(s.margin=n),typeof o<"u"&&(s.download=o);const c=new URL(this.client.config.endpoint+r);s.project=this.client.config.project;for(const[l,p]of Object.entries(T.flatten(s)))c.searchParams.append(l,p);return c}}class $t extends T{constructor(t){super(t)}listDocuments(t,i,n){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "databaseId"');if(typeof i>"u")throw new d('Missing required parameter: "collectionId"');const o="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",t).replace("{collectionId}",i),r={};typeof n<"u"&&(r.queries=n);const s=new URL(this.client.config.endpoint+o);return yield this.client.call("get",s,{"content-type":"application/json"},r)})}createDocument(t,i,n,o,r){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "databaseId"');if(typeof i>"u")throw new d('Missing required parameter: "collectionId"');if(typeof n>"u")throw new d('Missing required parameter: "documentId"');if(typeof o>"u")throw new d('Missing required parameter: "data"');const s="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",t).replace("{collectionId}",i),c={};typeof n<"u"&&(c.documentId=n),typeof o<"u"&&(c.data=o),typeof r<"u"&&(c.permissions=r);const l=new URL(this.client.config.endpoint+s);return yield this.client.call("post",l,{"content-type":"application/json"},c)})}getDocument(t,i,n,o){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "databaseId"');if(typeof i>"u")throw new d('Missing required parameter: "collectionId"');if(typeof n>"u")throw new d('Missing required parameter: "documentId"');const r="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",i).replace("{documentId}",n),s={};typeof o<"u"&&(s.queries=o);const c=new URL(this.client.config.endpoint+r);return yield this.client.call("get",c,{"content-type":"application/json"},s)})}updateDocument(t,i,n,o,r){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "databaseId"');if(typeof i>"u")throw new d('Missing required parameter: "collectionId"');if(typeof n>"u")throw new d('Missing required parameter: "documentId"');const s="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",i).replace("{documentId}",n),c={};typeof o<"u"&&(c.data=o),typeof r<"u"&&(c.permissions=r);const l=new URL(this.client.config.endpoint+s);return yield this.client.call("patch",l,{"content-type":"application/json"},c)})}deleteDocument(t,i,n){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "databaseId"');if(typeof i>"u")throw new d('Missing required parameter: "collectionId"');if(typeof n>"u")throw new d('Missing required parameter: "documentId"');const o="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",i).replace("{documentId}",n),r={},s=new URL(this.client.config.endpoint+o);return yield this.client.call("delete",s,{"content-type":"application/json"},r)})}}class Jt extends T{constructor(t){super(t)}listFiles(t,i,n){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "bucketId"');const o="/storage/buckets/{bucketId}/files".replace("{bucketId}",t),r={};typeof i<"u"&&(r.queries=i),typeof n<"u"&&(r.search=n);const s=new URL(this.client.config.endpoint+o);return yield this.client.call("get",s,{"content-type":"application/json"},r)})}createFile(t,i,n,o,r=s=>{}){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "bucketId"');if(typeof i>"u")throw new d('Missing required parameter: "fileId"');if(typeof n>"u")throw new d('Missing required parameter: "file"');const s="/storage/buckets/{bucketId}/files".replace("{bucketId}",t),c={};typeof i<"u"&&(c.fileId=i),typeof n<"u"&&(c.file=n),typeof o<"u"&&(c.permissions=o);const l=new URL(this.client.config.endpoint+s);if(!(n instanceof File))throw new d('Parameter "file" has to be a File.');const p=n.size;if(p<=T.CHUNK_SIZE)return yield this.client.call("post",l,{"content-type":"multipart/form-data"},c);const m={"content-type":"multipart/form-data"};let y=0,k;if(i!="unique()")try{k=yield this.client.call("GET",new URL(this.client.config.endpoint+s+"/"+i),m),y=k.chunksUploaded*T.CHUNK_SIZE}catch{}for(;y<p;){let P=Math.min(y+T.CHUNK_SIZE-1,p-1);m["content-range"]="bytes "+y+"-"+P+"/"+p,k&&k.$id&&(m["x-appwrite-id"]=k.$id);const R=n.slice(y,P+1);c.file=new File([R],n.name),k=yield this.client.call("post",l,m,c),r&&r({$id:k.$id,progress:y/p*100,sizeUploaded:y,chunksTotal:k.chunksTotal,chunksUploaded:k.chunksUploaded}),y+=T.CHUNK_SIZE}return k})}getFile(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "bucketId"');if(typeof i>"u")throw new d('Missing required parameter: "fileId"');const n="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",t).replace("{fileId}",i),o={},r=new URL(this.client.config.endpoint+n);return yield this.client.call("get",r,{"content-type":"application/json"},o)})}updateFile(t,i,n,o){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "bucketId"');if(typeof i>"u")throw new d('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",t).replace("{fileId}",i),s={};typeof n<"u"&&(s.name=n),typeof o<"u"&&(s.permissions=o);const c=new URL(this.client.config.endpoint+r);return yield this.client.call("put",c,{"content-type":"application/json"},s)})}deleteFile(t,i){return h(this,void 0,void 0,function*(){if(typeof t>"u")throw new d('Missing required parameter: "bucketId"');if(typeof i>"u")throw new d('Missing required parameter: "fileId"');const n="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",t).replace("{fileId}",i),o={},r=new URL(this.client.config.endpoint+n);return yield this.client.call("delete",r,{"content-type":"application/json"},o)})}getFileDownload(t,i){if(typeof t>"u")throw new d('Missing required parameter: "bucketId"');if(typeof i>"u")throw new d('Missing required parameter: "fileId"');const n="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",t).replace("{fileId}",i),o={},r=new URL(this.client.config.endpoint+n);o.project=this.client.config.project;for(const[s,c]of Object.entries(T.flatten(o)))r.searchParams.append(s,c);return r}getFilePreview(t,i,n,o,r,s,c,l,p,m,y,k,P){if(typeof t>"u")throw new d('Missing required parameter: "bucketId"');if(typeof i>"u")throw new d('Missing required parameter: "fileId"');const R="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",t).replace("{fileId}",i),I={};typeof n<"u"&&(I.width=n),typeof o<"u"&&(I.height=o),typeof r<"u"&&(I.gravity=r),typeof s<"u"&&(I.quality=s),typeof c<"u"&&(I.borderWidth=c),typeof l<"u"&&(I.borderColor=l),typeof p<"u"&&(I.borderRadius=p),typeof m<"u"&&(I.opacity=m),typeof y<"u"&&(I.rotation=y),typeof k<"u"&&(I.background=k),typeof P<"u"&&(I.output=P);const x=new URL(this.client.config.endpoint+R);I.project=this.client.config.project;for(const[K,V]of Object.entries(T.flatten(I)))x.searchParams.append(K,V);return x}getFileView(t,i){if(typeof t>"u")throw new d('Missing required parameter: "bucketId"');if(typeof i>"u")throw new d('Missing required parameter: "fileId"');const n="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",t).replace("{fileId}",i),o={},r=new URL(this.client.config.endpoint+n);o.project=this.client.config.project;for(const[s,c]of Object.entries(T.flatten(o)))r.searchParams.append(s,c);return r}}var ht,yt;class Z{static custom(t){return t}static unique(t=7){const i=Qt(Z,ht,"m",yt).call(Z);let n="";for(let o=0;o<t;o++){const r=Math.floor(Math.random()*16).toString(16);n+=r}return i+n}}ht=Z,yt=function(){const t=new Date,i=Math.floor(t.getTime()/1e3),n=t.getMilliseconds();return i.toString(16)+n.toString(16).padStart(5,"0")};var Fe;(function(e){e.Totp="totp"})(Fe||(Fe={}));var et;(function(e){e.Email="email",e.Phone="phone",e.Totp="totp",e.Recoverycode="recoverycode"})(et||(et={}));var tt;(function(e){e.Amazon="amazon",e.Apple="apple",e.Auth0="auth0",e.Authentik="authentik",e.Autodesk="autodesk",e.Bitbucket="bitbucket",e.Bitly="bitly",e.Box="box",e.Dailymotion="dailymotion",e.Discord="discord",e.Disqus="disqus",e.Dropbox="dropbox",e.Etsy="etsy",e.Facebook="facebook",e.Github="github",e.Gitlab="gitlab",e.Google="google",e.Linkedin="linkedin",e.Microsoft="microsoft",e.Notion="notion",e.Oidc="oidc",e.Okta="okta",e.Paypal="paypal",e.PaypalSandbox="paypalSandbox",e.Podio="podio",e.Salesforce="salesforce",e.Slack="slack",e.Spotify="spotify",e.Stripe="stripe",e.Tradeshift="tradeshift",e.TradeshiftBox="tradeshiftBox",e.Twitch="twitch",e.Wordpress="wordpress",e.Yahoo="yahoo",e.Yammer="yammer",e.Yandex="yandex",e.Zoho="zoho",e.Zoom="zoom",e.Mock="mock"})(tt||(tt={}));var it;(function(e){e.AvantBrowser="aa",e.AndroidWebViewBeta="an",e.GoogleChrome="ch",e.GoogleChromeIOS="ci",e.GoogleChromeMobile="cm",e.Chromium="cr",e.MozillaFirefox="ff",e.Safari="sf",e.MobileSafari="mf",e.MicrosoftEdge="ps",e.MicrosoftEdgeIOS="oi",e.OperaMini="om",e.Opera="op",e.OperaNext="on"})(it||(it={}));var nt;(function(e){e.AmericanExpress="amex",e.Argencard="argencard",e.Cabal="cabal",e.Consosud="censosud",e.DinersClub="diners",e.Discover="discover",e.Elo="elo",e.Hipercard="hipercard",e.JCB="jcb",e.Mastercard="mastercard",e.Naranja="naranja",e.TarjetaShopping="targeta-shopping",e.UnionChinaPay="union-china-pay",e.Visa="visa",e.MIR="mir",e.Maestro="maestro"})(nt||(nt={}));var ot;(function(e){e.Afghanistan="af",e.Angola="ao",e.Albania="al",e.Andorra="ad",e.UnitedArabEmirates="ae",e.Argentina="ar",e.Armenia="am",e.AntiguaAndBarbuda="ag",e.Australia="au",e.Austria="at",e.Azerbaijan="az",e.Burundi="bi",e.Belgium="be",e.Benin="bj",e.BurkinaFaso="bf",e.Bangladesh="bd",e.Bulgaria="bg",e.Bahrain="bh",e.Bahamas="bs",e.BosniaAndHerzegovina="ba",e.Belarus="by",e.Belize="bz",e.Bolivia="bo",e.Brazil="br",e.Barbados="bb",e.BruneiDarussalam="bn",e.Bhutan="bt",e.Botswana="bw",e.CentralAfricanRepublic="cf",e.Canada="ca",e.Switzerland="ch",e.Chile="cl",e.China="cn",e.CoteDIvoire="ci",e.Cameroon="cm",e.DemocraticRepublicOfTheCongo="cd",e.RepublicOfTheCongo="cg",e.Colombia="co",e.Comoros="km",e.CapeVerde="cv",e.CostaRica="cr",e.Cuba="cu",e.Cyprus="cy",e.CzechRepublic="cz",e.Germany="de",e.Djibouti="dj",e.Dominica="dm",e.Denmark="dk",e.DominicanRepublic="do",e.Algeria="dz",e.Ecuador="ec",e.Egypt="eg",e.Eritrea="er",e.Spain="es",e.Estonia="ee",e.Ethiopia="et",e.Finland="fi",e.Fiji="fj",e.France="fr",e.MicronesiaFederatedStatesOf="fm",e.Gabon="ga",e.UnitedKingdom="gb",e.Georgia="ge",e.Ghana="gh",e.Guinea="gn",e.Gambia="gm",e.GuineaBissau="gw",e.EquatorialGuinea="gq",e.Greece="gr",e.Grenada="gd",e.Guatemala="gt",e.Guyana="gy",e.Honduras="hn",e.Croatia="hr",e.Haiti="ht",e.Hungary="hu",e.Indonesia="id",e.India="in",e.Ireland="ie",e.IranIslamicRepublicOf="ir",e.Iraq="iq",e.Iceland="is",e.Israel="il",e.Italy="it",e.Jamaica="jm",e.Jordan="jo",e.Japan="jp",e.Kazakhstan="kz",e.Kenya="ke",e.Kyrgyzstan="kg",e.Cambodia="kh",e.Kiribati="ki",e.SaintKittsAndNevis="kn",e.SouthKorea="kr",e.Kuwait="kw",e.LaoPeopleSDemocraticRepublic="la",e.Lebanon="lb",e.Liberia="lr",e.Libya="ly",e.SaintLucia="lc",e.Liechtenstein="li",e.SriLanka="lk",e.Lesotho="ls",e.Lithuania="lt",e.Luxembourg="lu",e.Latvia="lv",e.Morocco="ma",e.Monaco="mc",e.Moldova="md",e.Madagascar="mg",e.Maldives="mv",e.Mexico="mx",e.MarshallIslands="mh",e.NorthMacedonia="mk",e.Mali="ml",e.Malta="mt",e.Myanmar="mm",e.Montenegro="me",e.Mongolia="mn",e.Mozambique="mz",e.Mauritania="mr",e.Mauritius="mu",e.Malawi="mw",e.Malaysia="my",e.Namibia="na",e.Niger="ne",e.Nigeria="ng",e.Nicaragua="ni",e.Netherlands="nl",e.Norway="no",e.Nepal="np",e.Nauru="nr",e.NewZealand="nz",e.Oman="om",e.Pakistan="pk",e.Panama="pa",e.Peru="pe",e.Philippines="ph",e.Palau="pw",e.PapuaNewGuinea="pg",e.Poland="pl",e.NorthKorea="kp",e.Portugal="pt",e.Paraguay="py",e.Qatar="qa",e.Romania="ro",e.Russia="ru",e.Rwanda="rw",e.SaudiArabia="sa",e.Sudan="sd",e.Senegal="sn",e.Singapore="sg",e.SolomonIslands="sb",e.SierraLeone="sl",e.ElSalvador="sv",e.SanMarino="sm",e.Somalia="so",e.Serbia="rs",e.SouthSudan="ss",e.SaoTomeAndPrincipe="st",e.Suriname="sr",e.Slovakia="sk",e.Slovenia="si",e.Sweden="se",e.Eswatini="sz",e.Seychelles="sc",e.Syria="sy",e.Chad="td",e.Togo="tg",e.Thailand="th",e.Tajikistan="tj",e.Turkmenistan="tm",e.TimorLeste="tl",e.Tonga="to",e.TrinidadAndTobago="tt",e.Tunisia="tn",e.Turkey="tr",e.Tuvalu="tv",e.Tanzania="tz",e.Uganda="ug",e.Ukraine="ua",e.Uruguay="uy",e.UnitedStates="us",e.Uzbekistan="uz",e.VaticanCity="va",e.SaintVincentAndTheGrenadines="vc",e.Venezuela="ve",e.Vietnam="vn",e.Vanuatu="vu",e.Samoa="ws",e.Yemen="ye",e.SouthAfrica="za",e.Zambia="zm",e.Zimbabwe="zw"})(ot||(ot={}));var rt;(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE",e.OPTIONS="OPTIONS"})(rt||(rt={}));var st;(function(e){e.Center="center",e.Topleft="top-left",e.Top="top",e.Topright="top-right",e.Left="left",e.Right="right",e.Bottomleft="bottom-left",e.Bottom="bottom",e.Bottomright="bottom-right"})(st||(st={}));var at;(function(e){e.Jpg="jpg",e.Jpeg="jpeg",e.Gif="gif",e.Png="png",e.Webp="webp"})(at||(at={}));const q={projectId:"662f870b00153938d585",url:"https://cloud.appwrite.io/v1",databaseId:"66312353002caae59b99",storageId:"6631230b0015eac820f0",userCollectionId:"663123f00007b6250bb0",postCollectionId:"663123b4002bbc6aca7c",savesCollectionId:"6631242300195c4a8d41"},re=new Kt;re.setProject(q.projectId);re.setEndpoint(q.url);const mt=new Vt(re),se=new $t(re),Ke=new Jt(re);new Wt(re);async function Xt(){try{return await mt.get()}catch(e){console.log(e)}}async function Zt(){try{const e=await Xt();if(!e)throw Error;const t=await se.listDocuments(q.databaseId,q.userCollectionId,[w.equal("accountId",e.$id)]);if(!t)throw Error;return t.documents[0]}catch(e){return console.log(e),null}}async function Yt(){try{return await mt.deleteSession("current")}catch(e){console.log(e)}}async function Ft(e){var t;try{const i=await wt(e.file[0]);if(!i)throw Error;const n=bt(i.$id);if(!n)throw await pe(i.$id),Error;const o=((t=e.tags)==null?void 0:t.replace(/ /g,"").split(","))||[],r=await se.createDocument(q.databaseId,q.postCollectionId,Z.unique(),{creator:e.userId,caption:e.caption,imageUrl:n,imageId:i.$id,location:e.location,tags:o});if(!r)throw await pe(i.$id),Error;return r}catch(i){console.log(i)}}async function wt(e){try{return await Ke.createFile(q.storageId,Z.unique(),e)}catch(t){console.log(t)}}function bt(e){try{const t=Ke.getFilePreview(q.storageId,e,2e3,2e3,"top",100);if(!t)throw Error;return t}catch(t){console.log(t)}}async function pe(e){try{return await Ke.deleteFile(q.storageId,e),{status:"ok"}}catch(t){console.log(t)}}async function ei(e){var i;const t=e.file.length>0;try{let n={imageUrl:e.imageUrl,imageId:e.imageId};if(t){const s=await wt(e.file[0]);if(!s)throw Error;const c=bt(s.$id);if(!c)throw await pe(s.$id),Error;n={...n,imageUrl:c,imageId:s.$id}}const o=((i=e.tags)==null?void 0:i.replace(/ /g,"").split(","))||[],r=await se.updateDocument(q.databaseId,q.postCollectionId,e.postId,{caption:e.caption,imageUrl:n.imageUrl,imageId:n.imageId,location:e.location,tags:o});if(!r)throw t&&await pe(n.imageId),Error;return t&&await pe(e.imageId),r}catch(n){console.log(n)}}async function ti(e,t){try{const i=await se.updateDocument(q.databaseId,q.postCollectionId,e,{likes:t});if(!i)throw Error;return i}catch(i){console.log(i)}}async function ii(e,t){try{const i=await se.createDocument(q.databaseId,q.savesCollectionId,Z.unique(),{user:e,post:t});if(!i)throw Error;return i}catch(i){console.log(i)}}async function ni(e){try{if(!await se.deleteDocument(q.databaseId,q.savesCollectionId,e))throw Error;return{status:"Ok"}}catch(t){console.log(t)}}var D=(e=>(e.CREATE_USER_ACCOUNT="createUserAccount",e.GET_CURRENT_USER="getCurrentUser",e.GET_USERS="getUsers",e.GET_USER_BY_ID="getUserById",e.GET_POSTS="getPosts",e.GET_INFINITE_POSTS="getInfinitePosts",e.GET_RECENT_POSTS="getRecentPosts",e.GET_POST_BY_ID="getPostById",e.GET_USER_POSTS="getUserPosts",e.GET_FILE_PREVIEW="getFilePreview",e.SEARCH_POSTS="getSearchPosts",e))(D||{});const di=()=>oe({mutationFn:Yt}),ui=()=>{const e=Y();return oe({mutationFn:t=>Ft(t),onSuccess:()=>{e.invalidateQueries({queryKey:[D.GET_RECENT_POSTS]})}})},fi=()=>{const e=Y();return oe({mutationFn:t=>ei(t),onSuccess:t=>{e.invalidateQueries({queryKey:[D.GET_POST_BY_ID,t==null?void 0:t.$id]})}})},li=()=>{const e=Y();return oe({mutationFn:({postId:t,likesArray:i})=>ti(t,i),onSuccess:t=>{e.invalidateQueries({queryKey:[D.GET_POST_BY_ID,t==null?void 0:t.$id]}),e.invalidateQueries({queryKey:[D.GET_RECENT_POSTS]}),e.invalidateQueries({queryKey:[D.GET_POSTS]}),e.invalidateQueries({queryKey:[D.GET_CURRENT_USER]})}})},pi=()=>{const e=Y();return oe({mutationFn:({userId:t,postId:i})=>ii(t,i),onSuccess:()=>{e.invalidateQueries({queryKey:[D.GET_RECENT_POSTS]}),e.invalidateQueries({queryKey:[D.GET_POSTS]}),e.invalidateQueries({queryKey:[D.GET_CURRENT_USER]})}})},hi=()=>{const e=Y();return oe({mutationFn:t=>ni(t),onSuccess:()=>{e.invalidateQueries({queryKey:[D.GET_RECENT_POSTS]}),e.invalidateQueries({queryKey:[D.GET_POSTS]}),e.invalidateQueries({queryKey:[D.GET_CURRENT_USER]})}})},yi=()=>zt({queryKey:[D.GET_CURRENT_USER],queryFn:Zt});export{pi as a,hi as b,yi as c,di as d,ui as e,fi as f,Zt as g,li as u};
